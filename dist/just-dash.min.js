(()=>{function s(r){return typeof r=="function"}function f(r){return Array.isArray(r)}function d(r){return typeof r=="number"}function v(r){return typeof r=="string"}function W(r){return d(r)&&r>=0&&r%1===0}function u(r){return Object.prototype.toString.call(r)==="[object Object]"}function E(r){return typeof r>"u"}function S(r){return typeof r=="boolean"}function m(r,e){return r&&Object.prototype.hasOwnProperty.call(r,e)}function h(r){return r===null||typeof r!="object"&&typeof r!="function"}function l(r,e=[]){if(!s(r))throw new Error("First argument (target) must be a function");if(!f(e))throw new Error("Second argument (validators) must be an array");let t=r.length,o=t===0&&e.length===1;if(e.length!==t&&!o)throw new Error(`The number of validators (${e.length}) must be equal to the number of function arguments (${r.length})`);return function(...i){for(let a=0;a<e.length;a+=1){let c=o?e[e.length-1]:e[a];if(!s(c))throw new Error(`Validator at index ${a} must be a function`);let y=o?i:i[a];if(!c(y))throw new Error(`Validator at index ${a} failed`)}return r(...i)}}var C=[r=>{if(!f(r))throw new Error("Input must be an array");return!0},r=>{if(!W(r))throw new Error("Size must be a positive whole number");return!0}];function wr(r,e){if(e===0)return r.map(()=>[]);let t=Array(Math.ceil(r.length/e));for(let o=0,n=0;o<r.length;o+=e,n+=1)t[n]=r.slice(o,o+e);return t}var xr=l(wr,C);var Y=new Set([!1,0,"",null,void 0,NaN]),L=[r=>{if(!f(r))throw new Error("Input must be an array");return!0}];function gr(r){let e=[];for(let t=0;t<r.length;t+=1)Y.has(r[t])||e.push(r[t]);return e}var Er=l(gr,L);var z=[r=>{if(!f(r))throw new Error("src must be an array");return!0},r=>{if(!f(r))throw new Error("target must be an array");return!0}];function Sr(r,e){if(e.length===0)return[...r];let t=new Set(e),o=[];for(let n=0;n<r.length;n+=1)t.has(r[n])||o.push(r[n]);return o}var Or=l(Sr,z);var R=[r=>{if(!f(r))throw new Error("Input must be an array");return!0}];function br(r){let e=[];for(let t=0;t<r.length;t+=1)Array.isArray(r[t])?e.push(...r[t]):e.push(r[t]);return e}var Tr=l(br,R);var $=[r=>{if(!f(r))throw new Error("Input must be an array");return!0}];function q(r){let e=[];for(let t=0;t<r.length;t+=1)Array.isArray(r[t])?e.push(...q(r[t])):e.push(r[t]);return e}var Ar=l(q,$);var G=[r=>{if(!f(r))throw new Error("src must be an array");return!0},r=>{if(!f(r))throw new Error("target must be an array");return!0}];function Nr(r,e){if(e.length===0||r.length===0)return[];let t=new Set(e),o=new Set;for(let n=0;n<r.length;n+=1)t.has(r[n])&&o.add(r[n]);return[...o]}var Dr=l(Nr,G);var B=[r=>{if(!f(r))throw new Error("Input must be an array");return!0}];function Vr(r){return Array.from(new Set(r))}var Ir=l(Vr,B);var X=[r=>{if(!f(r)||!r.every(f))throw new Error("Input must be an array");return!0}];function kr(...r){if(r.length===0)return[];let e=Math.min(...r.map(n=>n.length)),t=Array(e),o=0;for(;o<e;){let n=Array(r.length);for(let i=0;i<r.length;i+=1)n[i]=r[i][o];t[o]=n,o+=1}return t}var Pr=l(kr,X);var _=/(?:\[+)?(?:\.)?([^\[\]\.'"]+)(?:\]+)?/g,T=Symbol("KEY_MISSING");function x(r){if(typeof r=="symbol")return[r];if(arguments.length===0||!v(r))return[];_.lastIndex=0;let e=[],t;for(;(t=_.exec(r))!==null;){let[,o]=t;e.push(o)}return e}function g(r){if(u(r))return{};if(f(r))return[]}function D(r,e){if(u(e))return u(r)?r:{};if(f(e))return f(r)?r:[]}function M(r,e,t=void 0){if(e.length===0)return r;let[o,...n]=e;return m(r,o)?M(r[o],n,t):t}function J(r,e,t=void 0){let o=x(e);return o.length===0?t:M(r,o,t)}var Q=[r=>{if(!(r instanceof WeakSet))throw new Error("seen must be a WeakSet");return!0},()=>!0];function _r(r,e){if(r instanceof Set){let t=e instanceof Set?[...e,...r]:r;return new Set(t)}if(r instanceof Map){let t=e instanceof Map?[...e,...r]:r;return new Map(t)}return r instanceof Date?new Date(r.getTime()):r}function Z(r,e,...t){return h(e)||r.has(e)||(r.add(e),t.forEach(o=>{[...Object.keys(o),...Object.getOwnPropertySymbols(o)].forEach(i=>{let a=o[i];if(!m(e,i)||e[i]!==a){let c=D(e[i],a);e[i]=E(c)?_r(a,e[i]):Z(r,c,a)}})})),e}var j=l(Z,Q);function V(r,...e){return j(new WeakSet,r,...e)}function F(r,e,t,o=0){if(t.length===0||r.has(e)||!u(e)&&!f(e))return e;(u(e)||f(e))&&r.add(e);let n=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],i=new Set(t.filter(a=>a.isValid).map(a=>({...a,isValid:m(e,a.value[o])})).filter(a=>a.isValid&&o===a.value.length-1).map(a=>a.value[o]));return n.reduce((a,c)=>{let y=e[c];return i.has(c)||(a[c]=F(r,y,t,o+1)),a},g(e))}function rr(r,e){if(!f(e)||e.length===0)return r;let t=e.map(o=>({isValid:!0,value:x(o)}));return F(new WeakSet,r,t)}function K(r,e,t){if(t.length===0||r.has(e))return e;h(e)||r.add(e);let[o,...n]=t;if(!m(e,o))return T;let i=K(r,e[o],n);if(i===T)return i;let a=g(e);return a!==void 0?(a[o]=i,a):e}function er(r,e){if(!f(e))return r;if(e.length===0){let t=g(r);return E(t)?r:t}return e.reduce((t,o)=>{let n=x(o);if(n.length===0)return t;let i=K(new WeakSet,r,n);return i!==T?V(t,i):t},g(r))}function H(r,e,t){if(e.length===0)return t;let[o,...n]=e;return(!m(r,o)||!Mr(r))&&(r=D(r,Number.isInteger(+o)?[]:{})),r[o]=H(r[o],n,t),r}function Mr(r){return f(r)||u(r)}function tr(r,e,t){if(e==="")return r[e]=t,r;let o=x(e);return o.length===0?r:H(r,o,t)}function I(r){return f(r)?[]:u(r)?{}:r instanceof Map?new Map:r instanceof Set?new Set:null}function p(r){return f(r)||u(r)?Object.entries(r):r instanceof Map?[...r]:r instanceof Set?p([...r]):[]}function k(r,e,t,o=!1){return f(r)?r[o?r.length:e]=t:u(r)?r[e]=t:r instanceof Map?r.set(e,t):r instanceof Set&&r.add(t),r}function A(r,e){if(!r||!s(e))return!1;for(let[t,o]of p(r))if(!e(o,t))return!1;return!0}function or(r,e){let t=I(r);if(t===null||!s(e))return null;for(let[o,n]of p(r))e(n,o)&&k(t,o,n,!0);return t}function nr(r,e){let t=s(e);for(let[,o]of p(r))if(t&&e(o)||e===o)return o;return null}function ir(r,e){let t=I(r);if(t===null||!s(e))return null;for(let[o,n]of p(r))k(t,o,e(n,o));return t}var fr=Symbol("INITIAL_VALUE_UNDEFINED_SYM");function O(r,e,t=fr){let o=t===fr;if(!r||!s(e))return o?null:t;let n=p(r);if(n.length===0)return o?null:t;let i=o?n[0][1]:t,a=o?1:0;for(;a<n.length;a+=1){let[c,y]=n[a];i=e(i,y,c)}return i}function ar(r,e){if(!r||!s(e))return!1;for(let[t,o]of p(r))if(e(o,t))return!0;return!1}var lr=[r=>{if(!(r instanceof WeakSet))throw new Error("seen must be a WeakSet");return!0},()=>!0];function N(r,e){return h(e)||r.has(e)?e:(r.add(e),f(e)?O(e,(t,o,n)=>(t[n]=N(r,o),t),Array(e.length)):u(e)?O(e,(t,o,n)=>(t[n]=N(r,o),t),{}):e instanceof Map?O(e,(t,o,n)=>(t.set(n,N(r,o)),t),new Map):e instanceof Set?new Set([...N(r,[...e])]):e instanceof Date?new Date(e.getTime()):e instanceof RegExp?new RegExp(e.source,e.flags):null)}var ur=l(N,lr);function mr(r){return ur(new WeakSet,r)}var sr=[r=>{if(!s(r))throw new Error("executor must be a function");return!0},r=>{if(!u(r)&&!d(r))throw new Error("options must be an object or a number");if(u(r)){if(m(r,"delay")&&!d(r.delay))throw new Error("options.delay must be a number");if(m(r,"leading")&&!S(r.leading))throw new Error("options.leading must be a boolean");if(m(r,"trailing")&&!S(r.trailing))throw new Error("options.trailing must be a boolean");if(m(r,"callback")&&!s(r.callback))throw new Error("options.callback must be a function");if(m(r,"maxDelay")&&!d(r.maxDelay))throw new Error("options.maxDelay must be a number")}return!0}],cr=Object.freeze({delay:0,maxDelay:void 0,trailing:!0,leading:!1,callback:()=>{}}),U=Symbol("UNDEFINED_SYM");function Fr(r,e){let t=U,o=null,n=null,i={...cr};d(e)?i.delay=e:i={...i,...e};let a=(...w)=>t!==U?t:w,c=(...w)=>{globalThis.clearTimeout(n),globalThis.clearTimeout(o),o=null,n=null,i.trailing&&i.callback(r(...a(...w)))};function y(...w){let P;return o||n?t=w:(i.leading&&(P=r(...a(...w)),i.callback(P)),globalThis.clearTimeout(o),globalThis.clearTimeout(n),o=globalThis.setTimeout(()=>c(...w),i.delay),E(i.maxDelay)||(n=globalThis.setTimeout(()=>c(...w),i.maxDelay))),P}return y.cancel=()=>{globalThis.clearTimeout(o),globalThis.clearTimeout(n),o=null,n=null},y}var Kr=l(Fr,sr);var pr=[r=>{if(!(r instanceof WeakSet))throw new Error("seen must be a WeakSet");return!0},()=>!0,()=>!0];function Hr(r,e,t){if(h(e)||h(t))return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t;if(r.has(e)&&r.has(t))return!0;if(r.has(e)||r.has(t))return!1;if(r.add(e),r.add(t),f(e)&&f(t)){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o+=1){let n=m(e,o),i=m(t,o);if(n!==i||n&&!b(r,e[o],t[o]))return!1}return!0}if(u(e)&&u(t)){let o=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);return o.length!==n.length?!1:A(o,i=>b(r,e[i],t[i]))}return e instanceof Map&&t instanceof Map?e.size!==t.size?!1:A(e,(o,n)=>b(r,o,t.get(n))):e instanceof Set&&t instanceof Set?e.size!==t.size?!1:b(r,[...e],[...t]):e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!1}var b=l(Hr,pr);function dr(r,e){return r===e?!0:b(new WeakSet,r,e)}var hr=[r=>{if(!s(r))throw new Error("executor must be a function");return!0},r=>{if(!u(r)&&!d(r))throw new Error("options must be an object or a number");if(u(r)){if(m(r,"delay")&&!d(r.delay))throw new Error("options.delay must be a number");if(m(r,"leading")&&!S(r.leading))throw new Error("options.leading must be a boolean");if(m(r,"trailing")&&!S(r.trailing))throw new Error("options.trailing must be a boolean");if(m(r,"callback")&&!s(r.callback))throw new Error("options.callback must be a function")}return!0}],yr=Object.freeze({delay:0,trailing:!0,leading:!1,callback:()=>{}});function Ur(r,e){let t=null,o={...yr};d(e)?o.delay=e:o={...o,...e};function n(...i){let a;return t||(o.leading&&(a=r(...i)),t=globalThis.setTimeout(()=>{globalThis.clearTimeout(t),t=null,o.trailing&&o.callback(r(...i))},o.delay)),a}return n.cancel=()=>{globalThis.clearTimeout(t),t=null},n}var vr=l(Ur,hr);})();
